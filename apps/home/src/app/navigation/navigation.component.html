<div *ngIf="isAuth0Loading$ | async; else auth0Loaded">
    <router-outlet name="loading"></router-outlet>
</div>

<ng-template #auth0Loaded>

    <mat-sidenav-container autosize class="container" fullscreen>
        <mat-sidenav id="right-menu"  [mode]="leftMenuSideNavMode()" class="sidenav"
         #sidenav [opened]="sideNavOpened" style="overflow: hidden;">
            <mat-toolbar color="primary" class="mat-elevation-z4">
                <img src="../../assets/logo.jpg" width="36px">
                <h1 class="logo">
                    PIII.<span style="font-size: 12px;">com</span>
                </h1>
            </mat-toolbar>
            <lms-portal-mfe-right-menu></lms-portal-mfe-right-menu>
        </mat-sidenav>
        <mat-sidenav-content style="z-index: unset;overflow: hidden; ">
            <mat-drawer-container fullscreen>
                <mat-drawer mode="side" #drawer class="drawer" [opened]="matDrawerOpened" style="overflow: 
                hidden;">
                    <mat-toolbar color="primary" class="mat-elevation-z4">
                        <img src="../../assets/logo.jpg" width="36px">
                    </mat-toolbar>
                    <lms-portal-mfe-right-menu [iconOnly]="setIconOnly()"></lms-portal-mfe-right-menu>
                </mat-drawer>
                <mat-drawer-content style="overflow: hidden;">
                    <lms-portal-mfe-top-menu [rightMenu]="sidenav" [drawer]="drawer" 
                    [leftMenu]="sidenav2" [matDrawerShow]="matDrawerShow" style="z-index: 500">
                </lms-portal-mfe-top-menu>
                        <router-outlet style="padding: 25px;"></router-outlet>
                </mat-drawer-content>
            </mat-drawer-container>
        </mat-sidenav-content>

        <mat-sidenav id="left-menu" #sidenav2 position="end" mode="over">
            <lms-portal-mfe-left-menu [leftMenu]="sidenav2"></lms-portal-mfe-left-menu>
        </mat-sidenav>
    </mat-sidenav-container>
</ng-template>